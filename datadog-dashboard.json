{
  "title": "CasperID LLM Health & Security Dashboard",
  "description": "Comprehensive observability for CasperID identity verification platform with LLM monitoring, fraud detection, and security alerts",
  "widgets": [
    {
      "id": 1,
      "definition": {
        "title": "Monitor Status Overview",
        "title_size": "16",
        "title_align": "left",
        "type": "manage_status",
        "display_format": "countsAndList",
        "color_preference": "text",
        "hide_zero_counts": true,
        "query": "tag:(casperid-api OR ai OR gemini OR verification OR security)",
        "sort": "status,asc",
        "count": 50,
        "start": 0,
        "summary_type": "monitors",
        "show_last_triggered": false,
        "show_priority": false
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 4
      }
    },
    {
      "id": 2,
      "definition": {
        "title": "API Request Latency",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "avg:trace.express.request.duration{service:casperid-api}",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "time": {},
        "legend": {
          "type": "automatic"
        }
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 4
      }
    },
    {
      "id": 3,
      "definition": {
        "title": "Request Volume & Error Rate",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              },
              {
                "formula": "query2"
              }
            ],
            "queries": [
              {
                "query": "sum:trace.express.request.hits{service:casperid-api}.as_rate()",
                "data_source": "metrics",
                "name": "query1"
              },
              {
                "query": "sum:trace.express.request.errors{service:casperid-api}.as_rate()",
                "data_source": "metrics",
                "name": "query2"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic"
            },
            "display_type": "line"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 4,
        "width": 6,
        "height": 4
      }
    },
    {
      "id": 4,
      "definition": {
        "title": "Gemini AI Confidence Scores",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "avg:casperid.gemini.confidence{*}",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "green",
              "line_type": "solid"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "value": "y = 0.7",
            "display_type": "error dashed"
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 4,
        "width": 6,
        "height": 4
      }
    },
    {
      "id": 5,
      "definition": {
        "title": "Verification Success Rate",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "sum:casperid.verification.result{outcome:success}.as_rate() / (sum:casperid.verification.result{*}.as_rate()) * 100",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "avg"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "custom_unit": "%",
        "precision": 1
      },
      "layout": {
        "x": 0,
        "y": 8,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 6,
      "definition": {
        "title": "LLM Token Usage",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "sum:casperid.gemini.tokens.total{*}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "sum"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "custom_unit": "tokens",
        "precision": 0
      },
      "layout": {
        "x": 3,
        "y": 8,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 7,
      "definition": {
        "title": "Estimated LLM Costs",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "sum:casperid.gemini.cost.estimated{*}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "sum"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "custom_unit": "$",
        "precision": 4
      },
      "layout": {
        "x": 6,
        "y": 8,
        "width": 3,
        "height": 2
      }
    },
    {
      "id": 8,
      "definition": {
        "title": "Geographic Performance Heatmap",
        "title_size": "16",
        "title_align": "left",
        "type": "geomap",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "avg:casperid.geo.confidence{*} by {country}",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "style": {
          "palette": "hostmap_blues",
          "palette_flip": false
        },
        "view": {
          "focus": "WORLD"
        }
      },
      "layout": {
        "x": 9,
        "y": 8,
        "width": 3,
        "height": 4
      }
    },
    {
      "id": 9,
      "definition": {
        "title": "Top API Endpoints by Traffic",
        "title_size": "16",
        "title_align": "left",
        "type": "toplist",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "top(sum:trace.express.request.hits{service:casperid-api} by {resource_name}, 10, 'sum', 'desc')",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "response_format": "scalar"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 10,
        "width": 4,
        "height": 4
      }
    },
    {
      "id": 10,
      "definition": {
        "title": "Fraud Detection Alerts",
        "title_size": "16",
        "title_align": "left",
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "query": "sum:casperid.fraud.attempts{*} by {type}",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "warm"
            },
            "display_type": "bars"
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 10,
        "width": 5,
        "height": 4
      }
    },
    {
      "id": 11,
      "definition": {
        "title": "Recent Incidents & Alerts",
        "title_size": "16",
        "title_align": "left",
        "type": "alert_graph",
        "alert_id": "",
        "viz_type": "timeseries",
        "time": {
          "live_span": "1h"
        }
      },
      "layout": {
        "x": 0,
        "y": 14,
        "width": 12,
        "height": 4
      }
    }
  ],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": [],
  "reflow_type": "fixed",
  "id": "casperid-llm-dashboard"
}