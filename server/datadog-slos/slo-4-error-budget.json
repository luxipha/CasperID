{
  "name": "CasperID Error Budget",
  "description": "Overall error rate should stay within acceptable limits to maintain service quality",
  "type": "metric",
  "type_id": 0, 
  "sli_specification": {
    "time_slice": {
      "query": {
        "numerator": "sum:trace.express.request.hits{service:casperid-api,http.status_code:(200 OR 201 OR 202)}.as_count()",
        "denominator": "sum:trace.express.request.hits{service:casperid-api}.as_count()"
      },
      "comparator": ">",
      "threshold": 0.95
    }
  },
  "thresholds": [
    {
      "timeframe": "7d", 
      "target": 95.0,
      "warning": 98.0
    },
    {
      "timeframe": "30d",
      "target": 92.0,
      "warning": 95.0
    }
  ],
  "tags": [
    "team:ai-engineering", 
    "service:casperid-api",
    "slo:error-budget",
    "component:api"
  ]
}